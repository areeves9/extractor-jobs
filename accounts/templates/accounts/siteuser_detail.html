{% extends "base.html" %}

{% load staticfiles %}
{% load fontawesome_5 %}


{% block head %}
<link rel="stylesheet" type="text/css" href="{% static 'accounts/css/siteuser_detail.css' %}">
{% endblock %}

{% block content %}


<div class="row">
    <div class="col-md">
        {% if user.image %}
        <img style="height:104px; width:104px;" class="mt-3 mb-3 img-thumbnail img-responsive rounded-circle" src="{{ user.image.url }}" alt="Card image cap">
        {% else %}
        <img class="mt-3 mb-3 img-thumbnail img-responsive rounded-circle" src="https://via.placeholder.com/104" />
        {% endif %}
        {% if request.user == user %}
        <a class="mt-2 mr-2 float-right" 
            style="text-decoration:none; color: white; background: orange; border-radius: 50%; padding: 0.5rem;" 
            href="{% url 'accounts:profile_update' user.slug %}">
                {% fa5_icon 'pen fa-1.6x' 'fas' %}
        </a>
        <p style="background: blueviolet; padding: 0.5rem; color:white; border-radius: 50%;" 
            id="share-button"
            class="mt-2 mr-2 float-right"
            data-toggle="modal" data-target="#exampleModal">
            {% fa5_icon 'share fa-1.6x' 'fas' %}
        </p>
        {% endif %}

        <h4>{{ user.first_name }} {{ user.last_name }}</h4>
        <h6>{{ user.location }}</h6>
    </div>
</div>

<hr>

<div class="row">
    <div class="col-md">
        <p class="text-center"><i>{{ user.bio }}</i></p>
    </div>
</div>
<hr> 
{% include "accounts/partials/siteuser_contact.html" %}
{% include "accounts/partials/siteuser_experience.html" %}
{% include "accounts/partials/siteuser_skills.html" %}
{% endblock %}

{% block footer %}
{% endblock %}

{% block javascript %}
<script type="text/javascript">
    const shareBtn = document.getElementById("share-button");
    shareBtn.addEventListener('click', function() {
        const copyUrl = document.querySelector("#donkeyAss");
        document.querySelector("#donkeyAss").select();
        // copyUrl.select();
        document.execCommand("copy");

        // const url = copyUrl.value;

        // const copyToInput = document.createElement('input');
        // copyToInput.setAttribute('id', 'copyToInput');
        // copyToInput.value = url;
        // copyToInput.select();

        // const copyUrl = `<input type="text" value="asshole" />`;
        // url.select();
        // console.log(copyUrl.value   )
    })
</script>
{% endblock %}